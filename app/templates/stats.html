{% extends "skeleton.html" %}
{% set active_page = "Stats" %}
{% set subheading = 'Statistiques détaillées par cluster' %}
{% set icon = "icon-bar-chart" %}

{% block pageContainer %}


                <form role="form">
                    <div class="form-group" style="width: 50%">
                        <label>Choix du cluster</label>
                        <select id="cluster_select" class="form-control"
                                onchange="print_clustered_graph(parseFloat(this.value))">
                            {% for i, value, label in graph_names %}
                                <option value={{i}}>Cluster {{ label }}</option>
                            {% endfor %}
                        </select>
                    </div>
                </form>


                <div class="row">
                    <div class="col-lg-6">
                        <div class="panel panel-default">
                            <div class="panel-heading">
                                <h3 class="panel-title"><i class="icon-512"></i> Graphe des retweets</h3>
                            </div>
                            <div class="panel-body" style="overflow: auto">
                                <div class="flot-chart">
                                    <div class="flot-chart-content" id="sigma-container" style="overflow: auto">
                                        <div class="loader-box" id="loader-container" style="overflow: auto">
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-lg-6 text-center">
                        <div class="panel panel-default">
                            <div class="panel-body">
                                .col-lg-6
                            </div>
                        </div>
                    </div>
                </div>
                <!-- /.row -->

                <div class="row">
                    <div class="col-lg-6 text-center">
                        <div class="panel panel-default">
                            <div class="panel-body">
                                .col-lg-6
                            </div>
                        </div>
                    </div>
                    <div class="col-lg-6 text-center">
                        <div class="panel panel-default">
                            <div class="panel-body">
                                .col-lg-6
                            </div>
                        </div>
                    </div>
                </div>
                <!-- /.row -->

<script>

var s = new sigma();

var cl = new CanvasLoader('loader-container');
cl.setColor('#337ab7'); // default is '#000000'
cl.setDiameter(60); // default is 40
cl.show(); // Hidden by default


pr_range = 0.2;

var graph_data;
$.getJSON(
    "./data_" + {{ graph_index }} +".json",
    function(data) {
        graph_data = data;
        print_clustered_graph(parseFloat($( "#cluster_select" ).val()));
    });



</script>


{% endblock %}